import tables
from PIL import Image
import cv2
from scipy.fftpack import idct
import numpy as np

test_block = [62.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000,
0.000000, 2.000000, 0.000000, 1.000000, 0.000000, 0.000000, 0.000000, 2.000000,
0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000,
0.000000, 1.000000, 0.000000, 1.000000, 0.000000, 0.000000, 0.000000, 2.000000,
0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000,
0.000000, 1.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 2.000000,
0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000,
0.000000, 1.000000, 0.000000, 1.000000, 0.000000, 2.000000, 0.000000, 7.000000]

test_block2 = [62.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000,
0.000000, 2.000000, 0.000000, 1.000000, 0.000000, 0.000000, 0.000000, 2.000000,
0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000,
0.000000, 1.000000, 0.000000, 1.000000, 0.000000, 0.000000, 0.000000, 2.000000,
0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000,
0.000000, 1.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 2.000000,
0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000,
0.000000, 1.000000, 0.000000, 1.000000, 0.000000, 2.000000, 0.000000, 7.000000]

# test_block = np.reshape(test_block, (8, 8))
# test_block2 = np.reshape(test_block2, (8, 8))

# print(np.hstack((test_block, test_block2)))

# test_block = np.ndarray.reshape(np.array(test_block), (8, 8))
# test_block = np.multiply(test_block, tables.QUANTIZATION_TABLES["LUM"])

# test_block = idct(idct(test_block.T, norm='ortho').T, norm='ortho')

# print(test_block)

# img = Image.fromarray(test_block.astype(np.uint8))
# img.save(f'decoded.bmp')
# img.show()
